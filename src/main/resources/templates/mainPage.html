<html layout:decorate="~{layout}">
<div layout:fragment="content">
    <div id="myModal" style="width: 100%; height: 100%; background: rgba(0, 0, 0, 0.5); z-index: 99;">
        <div id="modalClose" style="width: 100%; height: 100%; display: flex; justify-content: center; align-items: center;">
            <span class="close">&times;</span>
            <img src="/imgs/소년시대.jpg" alt="" style="height: 40%;">
        </div>
    </div>
    <div class="swiper mySwiper" style="width: 70%;">
        <div class="swiper-wrapper">
            <div class="swiper-slide">
                <div style="display: flex; justify-content: center;">
                    <button id="openModalBtn">
                        <img src="/imgs/소년시대.jpg" alt="">
                    </button>
                </div>
            </div>
            <div class="swiper-slide">
                <div style="display: flex; justify-content: center;">
                    <iframe width="800" height="450" src="https://www.youtube.com/embed/1QDMkG2kLXs?si=PT8cKl1bO_IKwKAZ?controls=0&autoplay=0&mute=0" title="YouTube video player"
                            frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen></iframe>
                </div>
            </div>
            <div class="swiper-slide">
                <div style="display: flex; justify-content: center;">
                    <!--                    <button id="openModalBtn">-->
                    <!--                        <img src="/imgs/소년시대.jpg" alt="">-->
                    <!--                    </button>-->
                    <!--                    <div id="myModal" class="modal">-->
                    <!--                        <div class="modal-content">-->
                    <!--                            <span class="close">&times;</span>-->
                    <!--                            <iframe width="800" height="450"-->
                    <!--                                    src="https://www.youtube.com/embed/Lh0gDi-sQXg?si=sXP27-P_y7F8X65P?controls=0&autoplay=0&mute=0"-->
                    <!--                                    title="YouTube video player"-->
                    <!--                                    frameborder="0"-->
                    <!--                                    allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"-->
                    <!--                                    allowfullscreen></iframe>-->
                    <!--                        </div>-->
                    <!--                    </div>-->
                </div>
            </div>
        </div>
        <div class="swiper-button-next"></div>
        <div class="swiper-button-prev"></div>
        <div class="swiper-pagination"></div>
    </div>
    <div class="swiper mySwiperA" style="width: 65%;">
        <div class="swiper-wrapper">
            <div class="swiper-slide">
                <div style="display: flex; justify-content: center;">
                    <div style="width: 400px; height: 400px; background: green;"></div>
                </div>
            </div>
            <div class="swiper-slide">
                <div style="display: flex; justify-content: center;">
                    <div style="width: 400px; height: 400px; background: green;"></div>
                </div>
            </div>
            <div class="swiper-slide">
                <div style="display: flex; justify-content: center;">
                    <div style="width: 400px; height: 400px; background: green;"></div>
                </div>
            </div>
            <div class="swiper-slide">
                <div style="display: flex; justify-content: center;">
                    <div style="width: 400px; height: 400px; background: green;"></div>
                </div>
            </div>
        </div>
        <div class="swiper-pagination"></div>
        <div class="swiper-button-prev"></div>
        <div class="swiper-button-next"></div>
    </div>
    <script src="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.js"></script>
    <script>
        var swiper = new Swiper(".mySwiper", {
          slidesPerView: 1,
          spaceBetween: 30,
          loop: true,
          pagination: {
            el: ".swiper-pagination",
            clickable: true,
          },
          navigation: {
            nextEl: ".swiper-button-next",
            prevEl: ".swiper-button-prev",
          },
        });

        var swiper = new Swiper(".mySwiperA", {
          slidesPerView: 1,
          spaceBetween: 30,
          loop: true,
          pagination: {
            el: ".swiper-pagination",
            clickable: true,
          },
          navigation: {
            nextEl: ".swiper-button-next",
            prevEl: ".swiper-button-prev",
          },
        });

        // 모달 창 열기
    document.getElementById('openModalBtn').addEventListener('click', function() {
        document.getElementById('myModal').style.display = 'block';
        document.body.style.overflow = "hidden";
        document.body.style.paddingRight = `${getScrollbarWidth()}px`;
    });

    // 모달 창 닫기
    function closeModal() {
        document.getElementById('myModal').style.display = 'none';
        document.body.style.overflow = "auto";
        document.body.style.paddingRight = '0';
    }

    // 모달 외부 클릭 시 닫기
    window.addEventListener('click', function(event) {
        if (event.target === document.getElementById('modalClose')) {
            closeModal();
        }
    });

function getScrollbarWidth() {
    const scrollDiv = document.createElement('div');
    scrollDiv.style.width = '100px';
    scrollDiv.style.height = '100px';
    scrollDiv.style.overflow = 'scroll';
    scrollDiv.style.position = 'absolute';
    scrollDiv.style.top = '-9999px';
    document.body.appendChild(scrollDiv);
    const scrollbarWidth = scrollDiv.offsetWidth - scrollDiv.clientWidth;
    document.body.removeChild(scrollDiv);
    return scrollbarWidth;
}
    </script>
</div>
</html>