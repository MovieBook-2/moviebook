<html layout:decorate="~{layout}">
<div layout:fragment="content">
    <div id="myModal1" class="myModal">
        <div class="modalVideo">
            <div class="closePosition">
                <div class="close" onclick="closeModal('myModal1')">
                    <button class="btn btn-circle" style="margin-left: 1155px;">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24"
                             stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                  d="M6 18L18 6M6 6l12 12"/>
                        </svg>
                    </button>
                </div>
            </div>
            <iframe width="60%" height="65%"
                    src="https://www.youtube-nocookie.com/embed/NO0QXhgTjHE?si=mNMEVEftNrXoxWqb"
                    title="YouTube video player" frameborder="0"
                    allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"
                    allowfullscreen></iframe>
        </div>
    </div>
    <div id="myModal2" class="myModal">
        <div class="modalVideo">
            <div class="closePosition">
                <div class="close" onclick="closeModal('myModal2')">
                    <button class="btn btn-circle" style="margin-left: 1155px;">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24"
                             stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                  d="M6 18L18 6M6 6l12 12"/>
                        </svg>
                    </button>
                </div>
            </div>
            <iframe width="60%" height="65%"
                    src="https://www.youtube-nocookie.com/embed/7sAuTASBlu0?si=gkrd6y2csWpP1s9W"
                    title="YouTube video player" frameborder="0"
                    allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"
                    allowfullscreen></iframe>
        </div>
    </div>
    <div id="myModal3" class="myModal">
        <div class="modalVideo">
            <div class="closePosition">
                <div class="close" onclick="closeModal('myModal3')">
                    <button class="btn btn-circle" style="margin-left: 1155px;">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24"
                             stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                  d="M6 18L18 6M6 6l12 12"/>
                        </svg>
                    </button>
                </div>
            </div>
            <iframe width="60%" height="65%"
                    src="https://www.youtube-nocookie.com/embed/qDE3IJNOyTw?si=FlzxkGzLaMM0vn9n"
                    title="YouTube video player" frameborder="0"
                    allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"
                    allowfullscreen></iframe>
        </div>
    </div>
    <div id="myModal4" class="myModal">
        <div class="modalVideo">
            <div class="closePosition">
                <div class="close" onclick="closeModal('myModal4')">
                    <button class="btn btn-circle" style="margin-left: 1155px;">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24"
                             stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                  d="M6 18L18 6M6 6l12 12"/>
                        </svg>
                    </button>
                </div>
            </div>
            <iframe width="60%" height="65%"
                    src="https://www.youtube-nocookie.com/embed/Hd_zT6I5K6c?si=pQueCtCcpG03Uhfg"
                    title="YouTube video player" frameborder="0"
                    allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"
                    allowfullscreen></iframe>
        </div>
    </div>
    <div class="swiper mySwiper" style="width: 70%;">
        <div class="swiper-wrapper">
            <div class="swiper-slide">
                <div style="display: flex; justify-content: center;">
                    <button class="openModalBtn" data-modal-id="myModal1"
                            style="display: flex; justify-content: center;">
                        <img src="/mainPageImage/인투더월드.jpg" alt="" style="width: 70%">
                    </button>
                </div>
            </div>
            <div class="swiper-slide">
                <div style="display: flex; justify-content: center;">
                    <button class="openModalBtn" data-modal-id="myModal2"
                            style="display: flex; justify-content: center;">
                        <img src="/mainPageImage/경성크리처.jpg" alt="" style="width: 70%">
                    </button>
                </div>
            </div>
            <div class="swiper-slide">
                <div style="display: flex; justify-content: center;">
                    <button class="openModalBtn" data-modal-id="myModal3"
                            style="display: flex; justify-content: center;">
                        <img src="/mainPageImage/애린왕자.jpg" alt="" style="width: 70%">
                    </button>
                </div>
            </div>
            <div class="swiper-slide">
                <div style="display: flex; justify-content: center;">
                    <button class="openModalBtn" data-modal-id="myModal4"
                            style="display: flex; justify-content: center;">
                        <img src="/mainPageImage/나혼자만레벨업.jpg" alt="" style="width: 70%">
                    </button>
                </div>
            </div>
        </div>
        <div class="swiper-pagination"></div>
    </div>
    <div class="swiper mySwiperA" style="width: 65%;">
        <div class="swiper-wrapper">
            <div class="swiper-slide">
                <div style="display: flex; justify-content: center;">
                    <div style="width: 400px; height: 400px; background: green;"></div>
                </div>
            </div>
            <div class="swiper-slide">
                <div style="display: flex; justify-content: center;">
                    <div style="width: 400px; height: 400px; background: green;"></div>
                </div>
            </div>
            <div class="swiper-slide">
                <div style="display: flex; justify-content: center;">
                    <div style="width: 400px; height: 400px; background: green;"></div>
                </div>
            </div>
            <div class="swiper-slide">
                <div style="display: flex; justify-content: center;">
                    <div style="width: 400px; height: 400px; background: green;"></div>
                </div>
            </div>
        </div>
        <div class="swiper-pagination"></div>
        <div class="swiper-button-prev"></div>
        <div class="swiper-button-next"></div>
    </div>
    <div>
        <form id="enter-form" style="position: fixed; bottom: 10px; right: 10px; background-color: white; padding: 10px; border: 1px solid #ccc; box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);">
            <label for="username">
                닉네임:
                <input id="username" type="text" required>
            </label>
            <button id="enter-button" type="button" onclick="enterChat()">입장</button>
        </form>
    </div>
    <script>
        function enterChat() {
            const username = document.getElementById("username").value;
            if (username.trim() !== "") {
                openChatPopup(username);
            } else {
                alert("닉네임을 입력하세요.");
            }
        }
         function openChatPopup(username) {
        const popupUrl = `/chat/enter?username=${encodeURIComponent(username)}`;
        const message = `${username}: 입장하셨습니다.`;
        window.open(popupUrl, "ChatPopup", "width=600,height=400");
    }
    </script>
    <script src="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.js"></script>
    <script>
        var swiper = new Swiper(".mySwiper", {
            slidesPerView: 1,
            spaceBetween: 30,
            loop: true,
            autoplay: {
            delay: 4000,
            disableOnInteraction: false
        },
        pagination: {
            el: ".swiper-pagination",
            clickable: true,
            },
        });

        var swiper = new Swiper(".mySwiperA", {
            slidesPerView: 1,
            spaceBetween: 30,
            loop: true,
            pagination: {
            el: ".swiper-pagination",
            clickable: true,
            },
            navigation: {
            nextEl: ".swiper-button-next",
            prevEl: ".swiper-button-prev",
            },
        });

    document.addEventListener('DOMContentLoaded', function() {
    const openModalBtns = document.querySelectorAll('.openModalBtn');

    openModalBtns.forEach(function(btn) {
        btn.addEventListener('click', function() {
            const modalId = btn.getAttribute('data-modal-id');
            openModal(modalId);
        });
    });

    window.addEventListener('click', function(event) {
        const modalCloseBtn = event.target.closest('.close');
        if (modalCloseBtn) {
            const modalId = modalCloseBtn.getAttribute('data-modal-id');
            closeModal(modalId);
        }
    });
});

    //  모달 창 열기
    function openModal(modalId) {
        const modal = document.getElementById(modalId);
        modal.style.display = 'block';
        document.body.style.overflow = "hidden";
        document.body.style.paddingRight = `${getScrollbarWidth()}px`;
    }

    // 모달 창 닫기
    function closeModal(modalId) {
        const modal = document.getElementById(modalId);
        modal.style.display = 'none';
        document.body.style.overflow = "auto";
        document.body.style.paddingRight = '0';
    }

function getScrollbarWidth() {
    const scrollDiv = document.createElement('div');
    scrollDiv.style.width = '100px';
    scrollDiv.style.height = '100px';
    scrollDiv.style.overflow = 'scroll';
    scrollDiv.style.position = 'absolute';
    scrollDiv.style.top = '-9999px';
    document.body.appendChild(scrollDiv);
    const scrollbarWidth = scrollDiv.offsetWidth - scrollDiv.clientWidth;
    document.body.removeChild(scrollDiv);
    return scrollbarWidth;
}
    </script>
</div>

</html>