<!doctype html>
<html lang="ko">
<head>
    <meta charset="utf-8">
    <link rel="stylesheet" type="text/css" th:href="@{/style.css}">
    <meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1, maximum-scale=1"/>
    <!-- Link Swiper's CSS -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.css"/>
</head>
<body>
<div class="layout-co">
    <div class="layout">
        <a class="logo" style="margin-top : 4%; font-size : xx-large;" href="/">
            <div class="logo-top">
                <span style="color : #fbd7ed;">무비</span>
                <span style="color : #FFFFFF; ">MOVIE</span>
            </div>
            <div class="logo-bottom">
                <span style="color : #FFFFFF;">BOOK</span>
                <span style="color : #fbd7ed; margin-left : 5px;">부비</span>
            </div>
        </a>
        <div class="login" style="margin: 10% 0% 0% 14%; font-size : 14px; width : 27%;">
            <img src="/etc/coin.png" style="width : 15px; margin-left : 10%;">
            <a style="color : #FFF;" href="/payment">코인충전</a>
            <a style="color : #FFF; margin-left : 2%;" href="">고객센터</a>
            <a style="color : #FFF; margin-left : 2%;" sec:authorize="isAnonymous()" th:href="@{/member/login}">로그인</a>
            <a style="color : #FFF; margin-left : 2%;" sec:authorize="isAuthenticated()" th:href="@{/member/mypage}">마이페이지</a>
            <a style="color : #FFF; margin-left : 2%;" sec:authorize="isAuthenticated()" th:href="@{/member/logout}">로그아웃</a>
            <a th:if="${#authorization.expression('isAnonymous()')}" style="color: #FFF; margin-left: 2%;" th:href="@{/member/signup}">회원가입</a>
        </div>
    </div>
    <div>
        <li style="display : flex;">
            <a class="category" href="/movie">영화</a>
            <span class="category-bar" >|</span>
            <a class="category" href="/drama">TV</a>
            <span class="category-bar">|</span>
            <a class="category" href="/book">책</a>
            <span class="category-bar" >|</span>
            <a class="category" href="/webtoon">웹툰</a>
        </li>
    </div>
    <div class="slider-wrap">
        <div class="slider-img">
            <div class="slider-inner">
                <div class="slider s1"><img src="/imgs/노량2.jpg" alt="이미지1"></div>
                <div class="slider s2"><img src="/imgs/소년시대.jpg" alt="이미지2"></div>
                <div class="slider s3"><img src="/imgs/노량2.jpg" alt="이미지3"></div>
            </div>
        </div>
        <div class="slider-btn" style="white-space : nowrap;">
            <a href="#" class="prev" title="이전이미지">prev</a>
            <a href="#" class="next" title="다음이미지">next</a>
        </div>
    </div>
    <div class="swiper mySwiper" style="width: 57%; height: 100%;">
        <div class="swiper-wrapper">
            <div class="swiper-slide" style="display:flex; flex-direction : column; font-size: 18px; justify-content: center;
                align-items: center; white-space : nowrap;">
                <div style="width : 100%; text-align : left;">
                    <span style="color : white; font-size : 20px; font-weight : bold; margin-left : 5%;">영화 TOP 5</span>
                </div>
                <div class="list" style="display : flex; color : #FFF; margin-bottom : 20px; margin-top : 10px;">
                    <div class="top-list" style="width : 184px; margin-right : 20px; margin-left : 20px;">
                        <div class="item" style="text-align : center;">
                            <div class="top-info"
                                 style="border-radius: 4px; overflow : hidden; position : relative; height : 262px;">
                                <div class="top-img" style="display : block; max-height : 262px;">
                                    <img src="/imgs/소년시대.jpg" alt="이미지1" style="width: 100%; height: auto;">
                                </div>
                            </div>
                            <div class="btm-info"
                                 style="margin-top : 20px; display : flex; flex-direction : column; align-items : center;">
                                <div style="display : inline-flex;">
                                    <div style="border-radius: 3px; background : #E9B630; width : 22px; height : 22px; margin-right : 5px;">
                                        <span style="font-weight : bold;"> 12 </span>
                                    </div>
                                    <span style="font-size : 13px;"> 소년시대 </span>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="top-list" style="width : 184px; margin-right : 20px;">
                        <div class="item" style="text-align : center;">
                            <div class="top-info"
                                 style="border-radius: 4px; overflow : hidden; position : relative; height : 262px;">
                                <div class="top-img" style="display : block; max-height : 262px;">
                                    <img src="/imgs/트롤.jpg" alt="이미지1" style="width: 100%; height: auto;">
                                </div>
                            </div>
                            <div class="btm-info"
                                 style="margin-top : 20px; display : flex; flex-direction : column; align-items : center;">
                                <div style="display : inline-flex;">
                                    <div style="border-radius: 3px; background : #E9B630; width : 22px; height : 22px; margin-right : 5px;">
                                        <span style="font-weight : bold;"> 7 </span>
                                    </div>
                                    <span style="font-size : 13px;"> 트롤 </span>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="top-list" style="width : 184px; margin-right : 20px;">
                        <div class="item" style="text-align : center;">
                            <div class="top-info"
                                 style="border-radius: 4px; overflow : hidden; position : relative; height : 262px;">
                                <div class="top-img" style="display : block; max-height : 262px;">
                                    <img src="/imgs/노량.jpg" alt="이미지1" style="width: 100%; height: auto;">
                                </div>
                            </div>
                            <div class="btm-info"
                                 style="margin-top : 20px; display : flex; flex-direction : column; align-items : center;">
                                <div style="display : inline-flex;">
                                    <div style="border-radius: 3px; background : #E9B630; width : 22px; height : 22px; margin-right : 5px;">
                                        <span style="font-weight : bold;"> 12 </span>
                                    </div>
                                    <span style="font-size : 13px;"> 노량 </span>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="top-list" style="width : 184px; margin-right : 20px;">
                        <div class="item" style="text-align : center;">
                            <div class="top-info"
                                 style="border-radius: 4px; overflow : hidden; position : relative; height : 262px;">
                                <div class="top-img" style="display : block; max-height : 262px;">
                                    <img src="/imgs/그시절,우리가좋아했던소녀.jpg" alt="이미지1" style="width: 100%; height: auto;">
                                </div>
                            </div>
                            <div class="btm-info"
                                 style="margin-top : 20px; display : flex; flex-direction : column; align-items : center;">
                                <div style="display : inline-flex;">
                                    <div style="border-radius: 3px; background : #E9B630; width : 22px; height : 22px; margin-right : 5px;">
                                        <span style="font-weight : bold;"> 12 </span>
                                    </div>
                                    <span style="font-size : 13px;"> 그시절,우리가좋아했던소녀 </span>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="top-list"
                         style="width : 184px; margin-right : 20px; white-space : nowrap; text-overflow : ellipsis;  -webkit-line-clamp: 2;">
                        <div class="item" style="text-align : center;">
                            <div class="top-info"
                                 style="border-radius: 4px; overflow : hidden; position : relative; height : 262px;">
                                <div class="top-img" style="display : block; max-height : 262px;">
                                    <img src="/imgs/밤이되었습니다.jpg" alt="이미지1" style="width: 100%; height: auto;">
                                </div>
                            </div>
                            <div class="btm-info"
                                 style="margin-top : 20px; display : flex; flex-direction : column; align-items : center;">
                                <div style="display : inline-flex;">
                                    <div style="border-radius: 3px; background : #E9B630; width : 22px; height : 22px; margin-right : 5px;">
                                        <span style="font-weight : bold;"> 12 </span>
                                    </div>
                                    <span style="font-size : 13px;"> 밤이 되었습니다. </span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="swiper-slide">Slide 2</div>
            <div class="swiper-slide">Slide 7</div>
        </div>
        <div class="swiper-button-next"></div>
        <div class="swiper-button-prev"></div>
    </div>
</div>
<script src="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.js"></script>

<script>

    var swiper = new Swiper(".mySwiper", {
      pagination: {
        el: ".swiper-pagination",
        type: "fraction",
      },
      navigation: {
        nextEl: ".swiper-button-next",
        prevEl: ".swiper-button-prev",
      },
    });

    const sliderWrap = document.querySelector(".slider-wrap");
    const sliderImg = sliderWrap.querySelector(".slider-img");             // 보여지는 영역
    const sliderInner = sliderWrap.querySelector(".slider-inner");         // 움직이는 영역
    const slider = sliderWrap.querySelectorAll(".slider");                 // 개별 이미지
    const sliderBtn = sliderWrap.querySelectorAll(".slider-btn a");        // 버튼

    let currentIndex = 0;                                                   // 현재 보이는 이미지
    let sliderCount = slider.length;                                        // 이미지 갯수
    let sliderInterval = 2000;                                              // 이미지 변경 간격 시간
    let sliderWidth = slider[0].clientWidth;                                // 이미지 가로값 구하기
    let dotIndex = "";

    function gotoSlider(num){
        sliderInner.style.transition = "all 400ms";
        sliderInner.style.transform = "translateX(" + -sliderWidth * num + "px)";
        currentIndex = num;
    }

    sliderBtn.forEach((btn, index) => {
        btn.addEventListener("click", () => {
            let prevIndex = (currentIndex + (sliderCount-1)) % sliderCount;
            let nextIndex = (currentIndex+1) % sliderCount;

            if(btn.classList.contains("prev")){
                gotoSlider(prevIndex);
            } else {
                gotoSlider(nextIndex);
            }
        });
    });

     function showSlides() {
        setTimeout(() => {
            next();
            showSlides();
        }, 5000);
    }

    function next() {
        let nextIndex = (currentIndex + 1) % sliderCount;
        gotoSlider(nextIndex);
    }

    showSlides();


        ////////////////////////////////////////////////  마우스 효과 시작  ////////////////////////////////////////////////////
                var colour="random"; // in addition to "random" can be set to any valid colour eg "#f0f" or "red"
                var sparkles=50;

                var x=ox=400;
                var y=oy=300;
                var swide=800;
                var shigh=600;
                var sleft=sdown=0;
                var tiny=new Array();
                var star=new Array();
                var starv=new Array();
                var starx=new Array();
                var stary=new Array();
                var tinyx=new Array();
                var tinyy=new Array();
                var tinyv=new Array();

                window.onload=function() { if (document.getElementById) {
                  var i, rats, rlef, rdow;
                  for (var i=0; i<sparkles; i++) {
                    var rats=createDiv(3, 3);
                    rats.style.visibility="hidden";
                    rats.style.zIndex="999";
                    document.body.appendChild(tiny[i]=rats);
                    starv[i]=0;
                    tinyv[i]=0;
                    var rats=createDiv(5, 5);
                    rats.style.backgroundColor="transparent";
                    rats.style.visibility="hidden";
                    rats.style.zIndex="999";
                    var rlef=createDiv(1, 5);
                    var rdow=createDiv(5, 1);
                    rats.appendChild(rlef);
                    rats.appendChild(rdow);
                    rlef.style.top="2px";
                    rlef.style.left="0px";
                    rdow.style.top="0px";
                    rdow.style.left="2px";
                    document.body.appendChild(star[i]=rats);
                  }
                  set_width();
                  sparkle();
                }}

                function sparkle() {
                  var c;
                  if (Math.abs(x-ox)>1 || Math.abs(y-oy)>1) {
                    ox=x;
                    oy=y;
                    for (c=0; c<sparkles; c++) if (!starv[c]) {
                      star[c].style.left=(starx[c]=x)+"px";
                      star[c].style.top=(stary[c]=y+1)+"px";
                      star[c].style.clip="rect(0px, 5px, 5px, 0px)";
                      star[c].childNodes[0].style.backgroundColor=star[c].childNodes[1].style.backgroundColor=(colour=="random")?newColour():colour;
                      star[c].style.visibility="visible";
                      starv[c]=50;
                      break;
                    }
                  }
                  for (c=0; c<sparkles; c++) {
                    if (starv[c]) update_star(c);
                    if (tinyv[c]) update_tiny(c);
                  }
                  setTimeout("sparkle()", 40);
                }

                function update_star(i) {
                  if (--starv[i]==25) star[i].style.clip="rect(1px, 4px, 4px, 1px)";
                  if (starv[i]) {
                    stary[i]+=1+Math.random()*3;
                    starx[i]+=(i%5-2)/5;
                    if (stary[i]<shigh+sdown) {
                      star[i].style.top=stary[i]+"px";
                      star[i].style.left=starx[i]+"px";
                    }
                    else {
                      star[i].style.visibility="hidden";
                      starv[i]=0;
                      return;
                    }
                  }
                  else {
                    tinyv[i]=50;
                    tiny[i].style.top=(tinyy[i]=stary[i])+"px";
                    tiny[i].style.left=(tinyx[i]=starx[i])+"px";
                    tiny[i].style.width="2px";
                    tiny[i].style.height="2px";
                    tiny[i].style.backgroundColor=star[i].childNodes[0].style.backgroundColor;
                    star[i].style.visibility="hidden";
                    tiny[i].style.visibility="visible"
                  }
                }

                function update_tiny(i) {
                  if (--tinyv[i]==25) {
                    tiny[i].style.width="1px";
                    tiny[i].style.height="1px";
                  }
                  if (tinyv[i]) {
                    tinyy[i]+=1+Math.random()*3;
                    tinyx[i]+=(i%5-2)/5;
                    if (tinyy[i]<shigh+sdown) {
                      tiny[i].style.top=tinyy[i]+"px";
                      tiny[i].style.left=tinyx[i]+"px";
                    }
                    else {
                      tiny[i].style.visibility="hidden";
                      tinyv[i]=0;
                      return;
                    }
                  }
                  else tiny[i].style.visibility="hidden";
                }

                document.onmousemove=mouse;
                function mouse(e) {
                  if (e) {
                    y=e.pageY;
                    x=e.pageX;
                  }
                  else {
                    set_scroll();
                    y=event.y+sdown;
                    x=event.x+sleft;
                  }
                }

                window.onscroll=set_scroll;
                function set_scroll() {
                  if (typeof(self.pageYOffset)=='number') {
                    sdown=self.pageYOffset;
                    sleft=self.pageXOffset;
                  }
                  else if (document.body && (document.body.scrollTop || document.body.scrollLeft)) {
                    sdown=document.body.scrollTop;
                    sleft=document.body.scrollLeft;
                  }
                  else if (document.documentElement && (document.documentElement.scrollTop || document.documentElement.scrollLeft)) {
                    sleft=document.documentElement.scrollLeft;
                    sdown=document.documentElement.scrollTop;
                  }
                  else {
                    sdown=0;
                    sleft=0;
                  }
                }

                window.onresize=set_width;
                function set_width() {
                  var sw_min=999999;
                  var sh_min=999999;
                  if (document.documentElement && document.documentElement.clientWidth) {
                    if (document.documentElement.clientWidth>0) sw_min=document.documentElement.clientWidth;
                    if (document.documentElement.clientHeight>0) sh_min=document.documentElement.clientHeight;
                  }
                  if (typeof(self.innerWidth)=='number' && self.innerWidth) {
                    if (self.innerWidth>0 && self.innerWidth<sw_min) sw_min=self.innerWidth;
                    if (self.innerHeight>0 && self.innerHeight<sh_min) sh_min=self.innerHeight;
                  }
                  if (document.body.clientWidth) {
                    if (document.body.clientWidth>0 && document.body.clientWidth<sw_min) sw_min=document.body.clientWidth;
                    if (document.body.clientHeight>0 && document.body.clientHeight<sh_min) sh_min=document.body.clientHeight;
                  }
                  if (sw_min==999999 || sh_min==999999) {
                    sw_min=800;
                    sh_min=600;
                  }
                  swide=sw_min;
                  shigh=sh_min;
                }

                function createDiv(height, width) {
                  var div=document.createElement("div");
                  div.style.position="absolute";
                  div.style.height=height+"px";
                  div.style.width=width+"px";
                  div.style.overflow="hidden";
                  return (div);
                }

                function newColour() {
                  var c=new Array();
                  c[0]=255;
                  c[1]=Math.floor(Math.random()*256);
                  c[2]=Math.floor(Math.random()*(256-c[1]/2));
                  c.sort(function(){return (0.5 - Math.random());});
                  return ("rgb("+c[0]+", "+c[1]+", "+c[2]+")");
                }
        ////////////////////////////////////////////////  마우스 효과 끝  ////////////////////////////////////////////////////
</script>
</body>
</html>

